{% extends 'modal_base.html' %}
{% load forms %}
{% block icon_name %}fa fa-home{% endblock %}
{% block title %}Discharge {% endblock %}
{% block modal_body %}
  <form class="form form-horizontal">
    {% datepicker label="Discharge date" model="editing.discharge_date" hide="editing.category=='Unfollow' || currentCategory=='Discharged'" mindate="[[editing.date_of_admission]]"%}

	<div 
       class="col-md-offset-3"
       ng-show="currentCategory != 'Followup' && currentCategory != 'Discharged' "
       >
      <h4>Reason</h4>
      <div class="radio radio-primary">
        <input type="radio" name="radio" id="radiodischarged" value="Discharged">
        <label for="radiodischarged">
          Discharge
        </label>
        <i class="fa fa-home pull-right"></i>
      </div>
      
      <div class="radio radio-primary">
        <input type="radio" name="radio" id="radiofollowup" value="Followup">
        <label for="radiofollowup">
          Discharged - Outstanding Results for Follow-Up
        </label>
        <i class="fa fa-home pull-right"></i>
      </div>

      <div class="radio radio-primary">      
        <input type="radio" name="radio" id="radiodeceased" value="Deceased">
        <label for="radiodeceased">
          Deceased
        </label>
        <i class="fa fa-home pull-right"></i>
      </div>
      
      <div class="radio radio-primary">
        <input type="radio" name="radio" id="radiotransferred" value="Transferred">
        <label for="radiotransferred">
          Transferred
        </label>
        <i class="fa fa-home pull-right"></i>
      </div>
      
      <div class="radio radio-primary">
        <input type="radio" name="radio" id="radiounfollow" value="Unfollow">
        <label for="radiounfollow">
          No longer under active review
        </label>
        <i class="fa fa-home pull-right"></i>
      </div>
      
	</div>

    <div ng-show="currentCategory == 'Followup'">
      <input type="hidden" ng-model="editing.category" value="Discharged">
      <p>
        Confirm discharge and no further follow-up is required.
      </p>
    </div>

    <div ng-show="currentCategory == 'Discharged'">
      <p>Confirm discharge.</p>
    </div>
  </form>
{% endblock %}
{% block modal_save %}
  <button class="btn btn-primary" ng-click="discharge()">
    <i class="fa fa-home"></i>
    Discharge
  </button>
{% endblock %}
{% block modal_another %}{% endblock %}
